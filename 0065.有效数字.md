# 解题关键点

- 这题关键点就在于后面的测试用例，覆盖到所有的特殊情况就赢了，难度主要在边界情况的考虑方面
- O(n) 的时间复杂度，没什么好说的

# 代码

```rust
impl Solution {
    pub fn is_number(s: String) -> bool {
        let chars: Vec<char> = s.chars().collect();
        let len = chars.len();
        // 是否存在整数部分
        let mut has_int = false;
        // 是否存在小数部分
        let mut has_float = false;
        // 符号出现的位置
        let mut sign = 0;
        // 小数点出现的位置
        let mut float = 0;
        // 科学计数法标识符出现的位置
        let mut exp = 0;
        for i in 0..len {
            if "0123456789".contains(chars[i]) {
                if float == 0 {
                    has_int = true;
                } else {
                    has_float = true;
                }
                continue;
            }
            if chars[i] == '.' {
                if float == 0 && exp == 0 && (has_int || i < len - 1) {
                    float = i + 1;
                    continue;
                }
                return false;
            }
            if i == len - 1 {
                return false;
            }
            if "+-".contains(chars[i]) {
                if i == 0 || i == exp {
                    sign = 1;
                    continue;
                }
                return false;
            }
            if "eE".contains(chars[i]) {
                if exp == 0 && i > sign && (has_int || has_float) {
                    exp = i + 1;
                    continue;
                }
                return false;
            }
            return false;
        }
        true
    }
}
```

# 测试用例

```rust
assert_eq!(is_number("+".to_string()), false);
assert_eq!(is_number(".".to_string()), false);
assert_eq!(is_number("+.".to_string()), false);
assert_eq!(is_number("e".to_string()), false);
assert_eq!(is_number("x".to_string()), false);
assert_eq!(is_number("1".to_string()), true);
assert_eq!(is_number(".1".to_string()), true);
assert_eq!(is_number("1.".to_string()), true);
assert_eq!(is_number("1.1".to_string()), true);
assert_eq!(is_number("-1.1".to_string()), true);
assert_eq!(is_number("+1.1".to_string()), true);
assert_eq!(is_number("+1.1E".to_string()), false);
assert_eq!(is_number("+1.1e1".to_string()), true);
assert_eq!(is_number("+.1e1".to_string()), true);
assert_eq!(is_number("+.E1".to_string()), false);
assert_eq!(is_number("+.1e1.1".to_string()), false);
assert_eq!(is_number("+.1e-1".to_string()), true);
assert_eq!(is_number("+1.e-1".to_string()), true);
assert_eq!(is_number("+1.e-1.".to_string()), false);
assert_eq!(is_number("+1e-1.".to_string()), false);
```
